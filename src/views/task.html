{% extends "views/_base.html" %}
{% from "components/title/title.html" import title %}

{% block content %}
<main role="main">
	<header role="banner" class="header">
		{{ title('Task') }}
	</header>
	<section>
		{% if task.is_done %}<del>{% endif %}
			{{ task.content }}
		{% if task.is_done %}</del>{% endif %}
	</section>
</main>

<div class="action">
	<form method="post" onchange="this.submit()" action="/tasks/{{ task.id }}">
		<input type="hidden" name="_method" value="patch">
		<ul class="flat-list inline-list">
			<li>
				<input type="radio" name="scheduled_date" id="{{ task.id }}_scheduled_date_today" value="today" name="scheduled_date" {% if task.scheduled_hr === 'today' %}checked{% endif %}>
				<label for="{{ task.id }}_scheduled_date_today">Today</label>
			</li>
			<li>
				<input type="radio" name="scheduled_date" id="{{ task.id }}_scheduled_date_tomorrow" value="tomorrow" name="scheduled_date" {% if task.scheduled_hr === 'tomorrow' %}checked{% endif %}>
				<label for="{{ task.id }}_scheduled_date_tomorrow">Tomorrow</label>
			</li>
		</ul>
	</form>
	<form method="post" onchange="this.submit()" action="/tasks/{{ task.id }}">
		<input type="hidden" name="_method" value="patch">
		<input type="hidden" name="_action" value="done">
		<input type="checkbox" name="is_done" id="{{ task.id }}__is_done" {% if task.is_done %}checked{% endif %}>
		<label for="{{ task.id }}__is_done">Task is done</label>
	</form>
	<form method="post" onsubmit="return confirm('Serious.ly')" action="/tasks/{{ task.id }}?redirect=/tasks" class="pull-right">
		<input type="hidden" name="_method" value="delete">
		<button class="button button--secondary">Delete</button>
	</form>
</div>
{% endblock %}
